package test.Codec;

import main.Codec.Encoder;
import main.Huffman.HuffmanTable;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;

class EncoderTest {
    @Test
    public void shouldEncode() {
        String originalMessage = "4_Aiv'o'kZY 8_?}?I}xk1?tO3%qV,vCh!B}nYnH:?$(9GG4iQQ@gTAMB^>xx.ay7@,R]9/f|/NCXki;DJUo1P~%x*}h;h1Rvvi}Lp]r>FuV-r=K})fW*,]z2a2J/yh[%4w]?K|# E_4&:yZ651DMSoqUL}KhkD17\\\\~Q+tm^e4$~``8AF\\\\]4tX  'JcL4N<tIu-0gaK-6qU&\\\"7VWBRs#hu$B]3dt{!l}FS7MaT}} >W;;jr=pc9f|lhm>%'QHn`y1&LeGv)hTqgr'PNo\\\"1CEc(2gUI86Q'c0Xqf[3R+xlO3UG3*=BDI|<#+$9RqNb5?L]Nbyr\\\\$BO $8(:Ub[~u%FGDLg#(%^0|P.A#(t~;_,a)eyj$Ifgd8*BQkQVkv34A/X1]wZ~(|k59k#bR0L~8,w)c7(~($:YXs4CQ\\\\mezIFo-D#w=rp={mf}1__z|i:)8@L!~t<}%?_>v_3mbqQ%mLV>GOUPNaN>U%CNF2,,z1E}`%Pu8u[rl!\\n";
        String expectedEncoding = "110000011111111001011101100110011111100110010011111001000010001110000100100000010010001111101101000111011010001001001111110000100001110100011010010011100011001010011011001000111101000110110110011100101101000100101101001000111100111100010011001111011101101101111011010101101100000110011000001000001011000011101101100011100010010100001011111111001110010000101001001011111010010101111000011100000111011100001111111111110101001010001101100000110100111001101001010001100010110100101001111011001011101010100001111011011010110011010001111100110110010011010011011101011111101101110000100111000111101000110101110100011010000000101100101100111101100011110111001000001010010110000101010001101111010111010010001000110001110001100010100111110011100110000101011001110011011101001101100010110010000111011001000111110010101111111101000101010011011011000010101011010010110101000101010110010111000000111111010111111100000010000110111111111110001110001000100010001101000011010001010011101001100100010001100110101110001111000101101000100001001101110100111010111110011110010111111000100010110100111111011111110101000111110000101101101111101011010101101001001110010000110111100111100101001110000010011110101000000000000011111000001111111001110111011000001111011111011010011001001111101010001001010111001011000011100010110001000010001010001100110001000011110001110101111010111101000010101010010000001010000100101111010001111010101101010010101001010100010000110100110111000010010110111001001110001100111010011101010001010000011111111000011100111000000010101001010111010111101011011100010110001110001010000011100111100110001100010110011100110100011110110101011101101111100110001011101101001111101011011111111101000010000101110100011100001001100111001111010001111110001000100101101100011111001101110011110110010011110001110101110100110010111111101111001110000010110010010111001100010011001000010001110001111110011100111010111110101001000100110010101000101000000010001011111000001110011000110010100100110000010010100100111011100010100100011010010010101101111101101011100010111011011100110000001010001011110111011100010000110101011101010010111101110111111111101100011110011110010110101001010001100000001011011001001000001101111100110111011110101001011111111010110110000110000010001101101110001011010111100000110110111110101010111010110110111001110111111001001011110000001001110111111010110111110110110000111100111100011111111110111000110110100100100110000101101000011100100100111001001011000110000111000111101001000010110010101001100001110010100101011010101101001010011010101000111010111110000001011010000100010001100110100001010111111011100000110101111011101011111001000110111010101110011111100111110101100000101111100000101101110111100010011101010010000101100001100101110001111100111100111101110001111011000001001000110110010010001000011010101111010101111000101100001000001110001011100001111011001100001111101000111110111111011000010110111011011011111100111100100001010010111010010111011110100111111101100111110110011010011111010101011001011111010100111101111101110100011100011101101111011101110111010001010100001010001101001101101110011110000011011110010101100110110110110010101111000011010110010110110110111011000110100111111010011110101101101101101110111101010010011110101010100011000011100110010111111001001111";
        String outputEncoding = Encoder.encode(originalMessage, HuffmanTable.makeTable(originalMessage));
        Assertions.assertEquals(expectedEncoding, outputEncoding);
    }
}